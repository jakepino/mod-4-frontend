{"ast":null,"code":"var _jsxFileName = \"/Users/jakepino/Development/Github/mod-4-project/mod-4-frontend/src/components/CreatePost.js\";\nimport React from \"react\";\nexport default class CreatePost extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      plantCommon: \"\",\n      plantLatin: \"\",\n      // userId: this.props.userId,\n      plantId: null,\n      description: \"\",\n      image: \"\",\n      postId: null\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      fetch(\"http://localhost:3000/plants\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accepts: \"application/json\"\n        },\n        body: JSON.stringify({\n          common_name: this.state.plantCommon,\n          latin_name: this.state.plantLatin\n        })\n      }).then(response => response.json()).then(plant => {\n        fetch(\"http://localhost:3000/posts\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Accepts: \"application/json\"\n          },\n          body: JSON.stringify({\n            description: this.state.description,\n            user_id: this.props.userId,\n            plant_id: plant.id\n          })\n        }).then(response => response.json()).then(newPost => {\n          fetch(\"http://localhost:3000/photos\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Accepts: \"application/json\"\n            },\n            body: JSON.stringify({\n              post_id: newPost.id,\n              img: this.state.image\n            })\n          }).then(response => response.json()).then(postPhoto => {\n            console.log(postPhoto);\n          });\n        });\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"plantCommon\",\n      placeholder: \"Plant Common Name\",\n      value: this.state.plantCommon,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"plantLatin\",\n      placeholder: \"Plant Latin Name\",\n      value: this.state.plantLatin,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"description\",\n      placeholder: \"Add Description\",\n      value: this.state.description,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"image\",\n      placeholder: \"Image goes here\",\n      value: this.state.image,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 6\n      }\n    }, \" Submit New Post \")));\n  }\n\n}","map":{"version":3,"sources":["/Users/jakepino/Development/Github/mod-4-project/mod-4-frontend/src/components/CreatePost.js"],"names":["React","CreatePost","Component","state","plantCommon","plantLatin","plantId","description","image","postId","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","fetch","method","headers","Accepts","body","JSON","stringify","common_name","latin_name","then","response","json","plant","user_id","props","userId","plant_id","id","newPost","post_id","img","postPhoto","console","log","render"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nexport default class CreatePost extends React.Component {\n\tstate = {\n\t\tplantCommon: \"\",\n\t\tplantLatin: \"\",\n\n\t\t// userId: this.props.userId,\n\t\tplantId: null,\n\t\tdescription: \"\",\n\n\t\timage: \"\",\n\t\tpostId: null,\n\t};\n\t// first thing we need is a plant, post request for plant\n\t// then create post, with fetch request using user id and plant id, and description\n\t// then plug in image into post\n\n\thandleChange = (e) => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value,\n\t\t});\n\t};\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tfetch(\"http://localhost:3000/plants\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tAccepts: \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tcommon_name: this.state.plantCommon,\n\t\t\t\tlatin_name: this.state.plantLatin,\n\t\t\t}),\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((plant) => {\n\t\t\t\tfetch(\"http://localhost:3000/posts\", {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\tAccepts: \"application/json\",\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tdescription: this.state.description,\n\t\t\t\t\t\tuser_id: this.props.userId,\n\t\t\t\t\t\tplant_id: plant.id,\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t.then((newPost) => {\n\t\t\t\t\t\tfetch(\"http://localhost:3000/photos\", {\n\t\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t\t\tAccepts: \"application/json\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\tpost_id: newPost.id,\n\t\t\t\t\t\t\t\timg: this.state.image,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t\t\t.then((postPhoto) => {\n\t\t\t\t\t\t\t\tconsole.log(postPhoto);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t});\n\t};\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"card\">\n\t\t\t\t<form>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"plantCommon\"\n\t\t\t\t\t\tplaceholder=\"Plant Common Name\"\n\t\t\t\t\t\tvalue={this.state.plantCommon}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"plantLatin\"\n\t\t\t\t\t\tplaceholder=\"Plant Latin Name\"\n\t\t\t\t\t\tvalue={this.state.plantLatin}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\tplaceholder=\"Add Description\"\n\t\t\t\t\t\tvalue={this.state.description}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"image\"\n\t\t\t\t\t\tplaceholder=\"Image goes here\"\n\t\t\t\t\t\tvalue={this.state.image}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<button onClick={this.handleSubmit}> Submit New Post </button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}